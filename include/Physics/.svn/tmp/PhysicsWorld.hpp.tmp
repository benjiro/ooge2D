#ifndef _PHYSICS_WORLD_HPP_
#define _PHYSICS_WORLD_HPP_

#include <Box2D.h>
#include <Config.hpp>
#include <Rect.hpp>
#include <Vector2.hpp>
#include <PhysicsListeners.hpp>
#include <PhysicsDebugDraw.hpp>
#include <Singleton.hpp>

namespace ooge
{
	class OOGE_API PhysicsWorld : public Singleton<PhysicsWorld>
	{
	public:
		PhysicsWorld(const Vector2 &gravity, bool sleep, bool debugDraw = false);
		~PhysicsWorld();

		void AddActor(/*const Actor *actor*/);
		void RemoveActor(/*const Actor *actor*/);

		void SetDestructionListener(ActorDestructionListener *listener);
		void SetContactFilter(ContactFilter *listener);
		void SetContactListener(ContactListener *listener);

		void UpdateWorld(Real timeStep);

		b2World *GetBox2DWorld() const;
		PhysicsDebugDraw *mDebugDraw;

		static PhysicsWorld &GetSingleton();
		static PhysicsWorld *GetSingletonPtr();
	private:
		void DebugDrawing();

		b2World *mb2World;

	};
}

#endif //_PHYSICS_WORLD_HPP